self.addEventListener("push",function(e){console.log(e),e.waitUntil(self.registration.showNotification("SMIPush Test Notification",{body:"Hello World"}))}),self.addEventListener("pushsubscriptionchange",function(e){e.waitUntil(self.registration.pushManager.subscribe({userVisibleOnly:!0}).then(function(e){return console.log("Subscribed after expiration",e.endpoint),fetch('https://suntegydev.ru/subscriber'+'/subscribe',{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({endpoint:e.endpoint,data:e,sourcePublicKey:'8e8a293e-9050-4c7d-b138-7edd59a50d23'  })})}))});